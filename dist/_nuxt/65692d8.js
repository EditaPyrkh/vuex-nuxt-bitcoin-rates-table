(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4,6],{414:function(t,e,r){"use strict";r.r(e);r(52),r(43),r(18);var n=r(276),o=r.n(n),c={data:function(){return{selectedPeriod:"day",datePeriod:{startDate:"",endDate:""}}},mounted:function(){this.setSelectedPeriod()},methods:{setSelectedPeriod:function(){var t=o()();switch(this.datePeriod.endDate=t.format("YYYY-MM-DD"),this.selectedPeriod){case"day":this.datePeriod.startDate=t.format("YYYY-MM-DD");break;case"week":this.datePeriod.startDate=t.subtract(1,"weeks").format("YYYY-MM-DD");break;case"month":this.datePeriod.startDate=t.subtract(1,"months").format("YYYY-MM-DD");break;case"year":this.datePeriod.startDate=t.subtract(1,"years").format("YYYY-MM-DD")}"custom"!==this.selectedPeriod&&this.handleChange()},handleChange:function(){"custom"!==this.selectedPeriod&&this.$emit("change",this.datePeriod)},handleCustomChange:function(){"custom"===this.selectedPeriod&&this.$emit("change",this.datePeriod)}}},d=r(51),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("label",{attrs:{for:"period"}},[t._v("Выберите период:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedPeriod,expression:"selectedPeriod"}],attrs:{id:"period"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedPeriod=e.target.multiple?r:r[0]},t.setSelectedPeriod]}},[e("option",{attrs:{value:"day"}},[t._v("День")]),t._v(" "),e("option",{attrs:{value:"week"}},[t._v("Неделя")]),t._v(" "),e("option",{attrs:{value:"month"}},[t._v("Месяц")]),t._v(" "),e("option",{attrs:{value:"year"}},[t._v("Год")]),t._v(" "),e("option",{attrs:{value:"custom"}},[t._v("Свой период")])]),t._v(" "),"custom"===t.selectedPeriod?e("input",{directives:[{name:"model",rawName:"v-model",value:t.datePeriod.startDate,expression:"datePeriod.startDate"}],attrs:{type:"date"},domProps:{value:t.datePeriod.startDate},on:{change:t.handleCustomChange,input:function(e){e.target.composing||t.$set(t.datePeriod,"startDate",e.target.value)}}}):t._e(),t._v(" "),"custom"===t.selectedPeriod?e("input",{directives:[{name:"model",rawName:"v-model",value:t.datePeriod.endDate,expression:"datePeriod.endDate"}],attrs:{type:"date"},domProps:{value:t.datePeriod.endDate},on:{change:t.handleCustomChange,input:function(e){e.target.composing||t.$set(t.datePeriod,"endDate",e.target.value)}}}):t._e()])}),[],!1,null,null,null);e.default=component.exports},415:function(t,e,r){"use strict";r.r(e);var n=r(418),o={props:{dates:{},priceValues:{}},data:function(){return{chart:null,chartData:{labels:[],datasets:[{label:"Цена биткоина",backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,data:[]}]}}},mounted:function(){this.setNewValues(),this.drawChart()},methods:{drawChart:function(){var t=this.$refs.chart.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new n.a(t,{type:"line",data:this.chartData,options:{scales:{x:{display:!0,title:{display:!0,text:"Дата"}},y:{display:!0,title:{display:!0,text:"Цена"}}}}})},setNewValues:function(){this.chartData.labels=this.dates,this.chartData.datasets[0].data=this.priceValues}},watch:{chartData:function(t){this.drawChart(),console.log("hh")},dates:function(){this.setNewValues(),this.drawChart()}}},c=r(51),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v("График изменения цены биткоина")]),t._v(" "),e("canvas",{ref:"chart",attrs:{width:"250",height:"50"}})])}),[],!1,null,null,null);e.default=component.exports},416:function(t,e,r){var map={"./af":277,"./af.js":277,"./ar":278,"./ar-dz":279,"./ar-dz.js":279,"./ar-kw":280,"./ar-kw.js":280,"./ar-ly":281,"./ar-ly.js":281,"./ar-ma":282,"./ar-ma.js":282,"./ar-ps":283,"./ar-ps.js":283,"./ar-sa":284,"./ar-sa.js":284,"./ar-tn":285,"./ar-tn.js":285,"./ar.js":278,"./az":286,"./az.js":286,"./be":287,"./be.js":287,"./bg":288,"./bg.js":288,"./bm":289,"./bm.js":289,"./bn":290,"./bn-bd":291,"./bn-bd.js":291,"./bn.js":290,"./bo":292,"./bo.js":292,"./br":293,"./br.js":293,"./bs":294,"./bs.js":294,"./ca":295,"./ca.js":295,"./cs":296,"./cs.js":296,"./cv":297,"./cv.js":297,"./cy":298,"./cy.js":298,"./da":299,"./da.js":299,"./de":300,"./de-at":301,"./de-at.js":301,"./de-ch":302,"./de-ch.js":302,"./de.js":300,"./dv":303,"./dv.js":303,"./el":304,"./el.js":304,"./en-au":305,"./en-au.js":305,"./en-ca":306,"./en-ca.js":306,"./en-gb":307,"./en-gb.js":307,"./en-ie":308,"./en-ie.js":308,"./en-il":309,"./en-il.js":309,"./en-in":310,"./en-in.js":310,"./en-nz":311,"./en-nz.js":311,"./en-sg":312,"./en-sg.js":312,"./eo":313,"./eo.js":313,"./es":314,"./es-do":315,"./es-do.js":315,"./es-mx":316,"./es-mx.js":316,"./es-us":317,"./es-us.js":317,"./es.js":314,"./et":318,"./et.js":318,"./eu":319,"./eu.js":319,"./fa":320,"./fa.js":320,"./fi":321,"./fi.js":321,"./fil":322,"./fil.js":322,"./fo":323,"./fo.js":323,"./fr":324,"./fr-ca":325,"./fr-ca.js":325,"./fr-ch":326,"./fr-ch.js":326,"./fr.js":324,"./fy":327,"./fy.js":327,"./ga":328,"./ga.js":328,"./gd":329,"./gd.js":329,"./gl":330,"./gl.js":330,"./gom-deva":331,"./gom-deva.js":331,"./gom-latn":332,"./gom-latn.js":332,"./gu":333,"./gu.js":333,"./he":334,"./he.js":334,"./hi":335,"./hi.js":335,"./hr":336,"./hr.js":336,"./hu":337,"./hu.js":337,"./hy-am":338,"./hy-am.js":338,"./id":339,"./id.js":339,"./is":340,"./is.js":340,"./it":341,"./it-ch":342,"./it-ch.js":342,"./it.js":341,"./ja":343,"./ja.js":343,"./jv":344,"./jv.js":344,"./ka":345,"./ka.js":345,"./kk":346,"./kk.js":346,"./km":347,"./km.js":347,"./kn":348,"./kn.js":348,"./ko":349,"./ko.js":349,"./ku":350,"./ku-kmr":351,"./ku-kmr.js":351,"./ku.js":350,"./ky":352,"./ky.js":352,"./lb":353,"./lb.js":353,"./lo":354,"./lo.js":354,"./lt":355,"./lt.js":355,"./lv":356,"./lv.js":356,"./me":357,"./me.js":357,"./mi":358,"./mi.js":358,"./mk":359,"./mk.js":359,"./ml":360,"./ml.js":360,"./mn":361,"./mn.js":361,"./mr":362,"./mr.js":362,"./ms":363,"./ms-my":364,"./ms-my.js":364,"./ms.js":363,"./mt":365,"./mt.js":365,"./my":366,"./my.js":366,"./nb":367,"./nb.js":367,"./ne":368,"./ne.js":368,"./nl":369,"./nl-be":370,"./nl-be.js":370,"./nl.js":369,"./nn":371,"./nn.js":371,"./oc-lnc":372,"./oc-lnc.js":372,"./pa-in":373,"./pa-in.js":373,"./pl":374,"./pl.js":374,"./pt":375,"./pt-br":376,"./pt-br.js":376,"./pt.js":375,"./ro":377,"./ro.js":377,"./ru":378,"./ru.js":378,"./sd":379,"./sd.js":379,"./se":380,"./se.js":380,"./si":381,"./si.js":381,"./sk":382,"./sk.js":382,"./sl":383,"./sl.js":383,"./sq":384,"./sq.js":384,"./sr":385,"./sr-cyrl":386,"./sr-cyrl.js":386,"./sr.js":385,"./ss":387,"./ss.js":387,"./sv":388,"./sv.js":388,"./sw":389,"./sw.js":389,"./ta":390,"./ta.js":390,"./te":391,"./te.js":391,"./tet":392,"./tet.js":392,"./tg":393,"./tg.js":393,"./th":394,"./th.js":394,"./tk":395,"./tk.js":395,"./tl-ph":396,"./tl-ph.js":396,"./tlh":397,"./tlh.js":397,"./tr":398,"./tr.js":398,"./tzl":399,"./tzl.js":399,"./tzm":400,"./tzm-latn":401,"./tzm-latn.js":401,"./tzm.js":400,"./ug-cn":402,"./ug-cn.js":402,"./uk":403,"./uk.js":403,"./ur":404,"./ur.js":404,"./uz":405,"./uz-latn":406,"./uz-latn.js":406,"./uz.js":405,"./vi":407,"./vi.js":407,"./x-pseudo":408,"./x-pseudo.js":408,"./yo":409,"./yo.js":409,"./zh-cn":410,"./zh-cn.js":410,"./zh-hk":411,"./zh-hk.js":411,"./zh-mo":412,"./zh-mo.js":412,"./zh-tw":413,"./zh-tw.js":413};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=416},419:function(t,e,r){"use strict";var n=r(4),o=r(198).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},423:function(t,e,r){"use strict";r.r(e);var n=r(14),o=(r(68),r(44),r(419),r(85),r(414)),c=r(415),d=r(276),l=r.n(d),j={components:{PeriodSelector:o.default,BitcoinPriceChart:c.default},data:function(){return{selectedPeriod:"day",bitcoinData:[],todayDate:"",dates:[],priceValues:[]}},created:function(){this.todayDate=l()().format("YYYY-MM-DD")},mounted:function(){},methods:{init:function(t){null===t||t.startDate===this.todayDate&&t.endDate===this.todayDate?this.loadBitcoinCurrentData():this.loadBitcoinData(t)},setArrays:function(){this.bitcoinData.bpi.USD?(this.dates=[this.todayDate],this.priceValues=[this.bitcoinData.bpi.USD.rate_float]):(this.dates=Object.keys(this.bitcoinData.bpi),this.priceValues=Object.values(this.bitcoinData.bpi))},loadBitcoinData:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.get("https://api.coindesk.com/v1/bpi/historical/close.json?start=".concat(t.startDate,"&end=").concat(t.endDate));case 3:n=r.sent,e.bitcoinData=n.data,e.setArrays(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error("Error fetching bitcoin data:",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},loadBitcoinCurrentData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("https://api.coindesk.com/v1/bpi/currentprice.json");case 3:r=e.sent,t.bitcoinData=r.data,t.setArrays(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching bitcoin data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},h=r(51),component=Object(h.a)(j,(function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Исторические данные о ценах на биткоин")]),t._v(" "),e("period-selector",{on:{change:t.init},model:{value:t.selectedPeriod,callback:function(e){t.selectedPeriod=e},expression:"selectedPeriod"}}),t._v(" "),e("bitcoin-price-chart",{attrs:{dates:t.dates,priceValues:t.priceValues}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PeriodSelector:r(414).default,BitcoinPriceChart:r(415).default})}}]);